<html>
    <head>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href={{ static_url("style.css") }} />

</head>
<script>
    var ws = new WebSocket("ws://localhost:8888/ws");
    var client_id;
    ws.onopen = function() {
        // pass row and col here
        ws.send(JSON.stringify({type: 0}));
    };
    ws.onmessage = function (evt) {
        data = JSON.parse(evt.data);
        if(data.type == 0) {
            client_id = data.client_id; 
        }

    };

    window.onbeforeunload = function() {
        ws.send(JSON.stringify({type: 1, client_id: client_id}));
        ws.onclose = function () {}; // disable onclose handler first
        ws.close()
    };
    
</script>
<body>
    <header id="header">
        <h1>Battleground</h1>
        <div id="tag">
            <div id="tagline">AI Challenge</div>
        </div>
        <div id="game-info">Source code: <a href="https://github.com/SpanishArmada/Battleground">Our Code Here!</a>
        </div>
    </header>
<form method="POST" action="upload" enctype="multipart/form-data">
            <h3 style="margin:5px">Upload Your AI Code Here:</h3>
                
            <input type="file" name="code1" style="margin:5px"/>
            <input type="submit" value="Upload" class="btn btn-default" style="margin:5px"/>
        </form>
<form method="POST" action="skipUpload" enctype="multipart/form-data">
<input type="submit" value="Skip" class="btn btn-default" style="margin:5px"/>
</form>
</body>
</html>
